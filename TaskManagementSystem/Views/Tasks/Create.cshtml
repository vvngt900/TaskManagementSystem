@model TaskManagementSystem.ViewModels.TaskCreateViewModel
@{
    ViewBag.Title = "Create Task";
}

<div class="container">
    <h2 class="mt-3">Create Task</h2>

    @using (Html.BeginForm("Create", "Task", FormMethod.Post, new { enctype = "multipart/form-data", @class = "mt-3" }))
    {
        @Html.AntiForgeryToken()

        <div class="form-group">
            @Html.LabelFor(model => model.TaskTitle)
            @Html.EditorFor(model => model.TaskTitle, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.TaskTitle, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.DeadlineDate)
            @Html.EditorFor(model => model.DeadlineDate, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.DeadlineDate, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Details)
            @Html.TextAreaFor(model => model.Details, new { @class = "form-control", rows = 4 })
            @Html.ValidationMessageFor(model => model.Details, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Attachment)
            <input type="file" id="Attachment" name="Attachment" />
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.DepartmentId)
            @Html.DropDownListFor(model => model.DepartmentId, Model.Departments, "Select Department", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.DepartmentId, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.SelectedTeamMembers)
            @Html.ListBoxFor(model => model.SelectedTeamMembers, Model.TeamMembers, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.SelectedTeamMembers, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.StatusId)
            @Html.DropDownListFor(model => model.StatusId, Model.Statuses, "Select Status", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.StatusId, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <input type="submit" value="Create" class="btn btn-primary" />
        </div>
    }

    <div class="mt-3">
        @Html.ActionLink("Back to List", "Index")
    </div>
</div>
